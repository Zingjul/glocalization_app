{% extends "base.html" %}

{% block content %}
<h2>Search Results</h2>

{% if posts %}
    <ul class="list-group">
        {% for post in posts %}
            <li class="list-group-item">
                <strong>{{ post.product_name }}</strong> 
                | <em>{{ post.category.name }}</em>
                <p>{{ post.description|truncatewords:20 }}</p>
                <p><strong>Location:</strong> 
                    {% if post.continent %} {{ post.continent.name }}, {% endif %}
                    {% if post.country %} {{ post.country.name }}, {% endif %}
                    {% if post.state %} {{ post.state.name }}, {% endif %}
                    {% if post.town %} {{ post.town.name }} {% endif %}
                </p>
                <a href="{% url 'post_detail' post.pk %}" class="btn btn-primary">View Post</a>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No matching results found.</p>
{% endif %}

<a href="{% url 'search_posts' %}" class="btn btn-secondary">New Search</a>
{% endblock %}
